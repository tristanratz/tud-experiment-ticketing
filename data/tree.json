{
  "rootId": "request-category",
  "nodes": {
    "request-category": {
      "id": "request-category",
      "type": "decision",
      "prompt": "What category does the request fall into?",
      "options": [
        { "id": "return", "label": "Return", "next": "return-allowed" },
        { "id": "exchange", "label": "Exchange", "next": "exchange-allowed" },
        { "id": "repair", "label": "Repair", "next": "repair-allowed" },
        { "id": "fraud", "label": "Fraud", "next": "escalation" }
      ]
    },
    "return-allowed": {
      "id": "return-allowed",
      "type": "decision",
      "prompt": "Is a return possible/allowed?",
      "options": [
        { "id": "yes", "label": "Yes", "next": "return-possible" },
        { "id": "no", "label": "No", "next": "return-fraud-check" }
      ]
    },
    "return-fraud-check": {
      "id": "return-fraud-check",
      "type": "decision",
      "prompt": "Fraud suspected?",
      "options": [
        { "id": "yes", "label": "Yes", "next": "escalation" },
        { "id": "no", "label": "No", "next": "return-not-possible" }
      ]
    },
    "return-possible": {
      "id": "return-possible",
      "type": "outcome",
      "title": "Return allowed",
      "prompt": "Return allowed",
      "fields": [
        { "id": "refundAmount", "label": "Refund amount", "type": "text", "required": true },
        { "id": "comment", "label": "Comment", "type": "textarea" },
        { "id": "customerResponse", "label": "Response to customer", "type": "textarea", "required": true },
        { "id": "keepPartial", "label": "Keep & Partial", "type": "checkbox" }
      ]
    },
    "return-not-possible": {
      "id": "return-not-possible",
      "type": "outcome",
      "title": "Return not possible",
      "prompt": "Return not possible",
      "fields": [
        { "id": "internalReason", "label": "Internal reason", "type": "textarea", "required": true },
        { "id": "customerResponse", "label": "Response to customer", "type": "textarea", "required": true }
      ]
    },
    "exchange-allowed": {
      "id": "exchange-allowed",
      "type": "decision",
      "prompt": "Is an exchange possible/allowed?",
      "options": [
        { "id": "yes", "label": "Yes", "next": "exchange-type" },
        { "id": "no", "label": "No", "next": "exchange-repair-possible" }
      ]
    },
    "exchange-type": {
      "id": "exchange-type",
      "type": "decision",
      "prompt": "DOA or warranty case?",
      "options": [
        { "id": "doa", "label": "DOA", "next": "exchange-doa" },
        { "id": "warranty", "label": "Warranty", "next": "exchange-warranty" }
      ]
    },
    "exchange-repair-possible": {
      "id": "exchange-repair-possible",
      "type": "decision",
      "prompt": "Repair possible?",
      "options": [
        { "id": "yes", "label": "Yes", "next": "repair-warranty-check" },
        { "id": "no", "label": "No", "next": "exchange-fraud-check" }
      ]
    },
    "exchange-fraud-check": {
      "id": "exchange-fraud-check",
      "type": "decision",
      "prompt": "Fraud suspected?",
      "options": [
        { "id": "yes", "label": "Yes", "next": "escalation" },
        { "id": "no", "label": "No", "next": "exchange-not-possible" }
      ]
    },
    "exchange-doa": {
      "id": "exchange-doa",
      "type": "outcome",
      "title": "DOA",
      "prompt": "DOA",
      "fields": [
        { "id": "defectDocumentation", "label": "Defect documentation", "type": "textarea", "required": true },
        { "id": "customerResponse", "label": "Response to customer", "type": "textarea", "required": true }
      ]
    },
    "exchange-warranty": {
      "id": "exchange-warranty",
      "type": "outcome",
      "title": "Warranty exchange",
      "prompt": "Warranty exchange",
      "fields": [
        { "id": "defectDocumentation", "label": "Defect documentation", "type": "textarea", "required": true },
        { "id": "customerResponse", "label": "Response to customer", "type": "textarea", "required": true }
      ]
    },
    "exchange-not-possible": {
      "id": "exchange-not-possible",
      "type": "outcome",
      "title": "Exchange not possible",
      "prompt": "Exchange not possible",
      "fields": [
        { "id": "internalReason", "label": "Internal reason", "type": "textarea", "required": true },
        { "id": "customerResponse", "label": "Response to customer", "type": "textarea", "required": true }
      ]
    },
    "repair-allowed": {
      "id": "repair-allowed",
      "type": "decision",
      "prompt": "Is a repair possible/allowed?",
      "options": [
        { "id": "yes", "label": "Yes", "next": "repair-warranty-check" },
        { "id": "no", "label": "No", "next": "repair-fraud-check" }
      ]
    },
    "repair-warranty-check": {
      "id": "repair-warranty-check",
      "type": "decision",
      "prompt": "Within the warranty period?",
      "options": [
        { "id": "yes", "label": "Yes", "next": "repair-warranty" },
        { "id": "no", "label": "No", "next": "repair-paid" }
      ]
    },
    "repair-fraud-check": {
      "id": "repair-fraud-check",
      "type": "decision",
      "prompt": "Fraud suspected?",
      "options": [
        { "id": "yes", "label": "Yes", "next": "escalation" },
        { "id": "no", "label": "No", "next": "repair-not-possible" }
      ]
    },
    "repair-warranty": {
      "id": "repair-warranty",
      "type": "outcome",
      "title": "Warranty repair",
      "prompt": "Warranty repair",
      "fields": [
        { "id": "defectDocumentation", "label": "Defect documentation", "type": "textarea", "required": true },
        { "id": "customerResponse", "label": "Response to customer", "type": "textarea", "required": true }
      ]
    },
    "repair-paid": {
      "id": "repair-paid",
      "type": "outcome",
      "title": "Paid repair",
      "prompt": "Paid repair",
      "fields": [
        { "id": "costEstimate", "label": "Cost estimate", "type": "text", "required": true },
        { "id": "defectDocumentation", "label": "Defect documentation", "type": "textarea", "required": true },
        { "id": "customerResponse", "label": "Response to customer", "type": "textarea", "required": true }
      ]
    },
    "repair-not-possible": {
      "id": "repair-not-possible",
      "type": "outcome",
      "title": "Repair not possible",
      "prompt": "Repair not possible",
      "fields": [
        { "id": "internalReason", "label": "Internal reason", "type": "textarea", "required": true },
        { "id": "customerResponse", "label": "Response to customer", "type": "textarea", "required": true }
      ]
    },
    "escalation": {
      "id": "escalation",
      "type": "outcome",
      "title": "Escalation",
      "prompt": "Escalation",
      "fields": [
        { "id": "internalReason", "label": "Internal reason", "type": "textarea", "required": true },
        { "id": "customerResponse", "label": "Response to customer", "type": "textarea", "required": true }
      ]
    }
  }
}
